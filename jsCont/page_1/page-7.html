<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>联动全选</title>
<script>
window.onload=function (){
	var oBtn=document.getElementById('btn');
	var aInp=document.getElementById('div1').getElementsByTagName('input');
	// 上面控制下面
	oBtn.onclick=function (){
		if (oBtn.checked == true)
		{
			for (var i=0; i<aInp.length; i++)
			{
				aInp[i].checked=true;
			}
		}
		else
		{
			for (var i=0; i<aInp.length; i++)
			{
				aInp[i].checked=false;
			}
		}
	};
	
	// 下面控制上面
	for (var i=0; i<aInp.length; i++)
	{
		aInp[i].onclick=function (){
			// 被选中个数
			var n=0;
			for (var i=0; i<aInp.length; i++)
			{
				if (aInp[i].checked == true)
				{
					n++;
				}
			}
			
			// 被选中个数  == 总数
			if (n == aInp.length)
			{
				oBtn.checked=true;
			}
			else
			{
				oBtn.checked=false;
			}
		};
	}
};
</script>
</head>

<body>
	<input type="checkbox" id="btn" />
	<hr />
	<div id="div1">
		<input type="checkbox" /><br />
		<input type="checkbox" /><br />
		<input type="checkbox" /><br />
	</div>
</body>
</html>











